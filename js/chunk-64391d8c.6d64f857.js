(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64391d8c"],{"3f09":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.minimized,expression:"!minimized"}],staticClass:"root-container",style:{zIndex:t.zIndex},attrs:{id:"window-sticky"}},t._l(t.notes,(function(n,i){return e("sticky-note",{key:i,class:["note","note--"+n.color],attrs:{dragHandle:".note__control",parent:!0,active:!0,"prevent-deactivation":!0,x:n.x,y:n.y,w:n.w,h:n.h,minWidth:150,minHeight:100},on:{dragstop:function(n,e){return t.onDragged(i,n,e)},resizestop:function(n,e,o,s){return t.onResized(i,n,e,o,s)}},nativeOn:{click:function(n){return t.focus(i)}}},[e("div",{staticClass:"note__control"},[e("button",{style:{backgroundImage:"url("+t.getIcon("add")+")"},attrs:{"aria-label":"add"},on:{click:function(n){return n.stopPropagation(),t.add(n)}}}),e("div",{staticClass:"note__control-group"},[e("button",{style:{backgroundImage:"url("+t.getIcon("close")+")"},attrs:{"aria-label":"close"},on:{click:function(n){return n.stopPropagation(),t.close(i)}}})])]),e("div",{staticClass:"note__content"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content,expression:"note.content"}],ref:"note",refInFor:!0,domProps:{value:n.content},on:{input:function(e){e.target.composing||t.$set(n,"content",e.target.value)}}})])])})),1)},o=[],s=e("3835"),c=e("5530"),r=(e("7db0"),e("caad"),e("2532"),e("a434"),e("fb19")),a=e.n(r),u=e("0f35"),d=e("6792"),l=e("01b4"),h=["blue","green","pink","purple","white","yellow"],f=200,m={x:(window.innerWidth-f)/2,y:(window.innerHeight-f)/2-20,w:f,h:f,color:h[h.length-1],content:""},b={data:function(){var t="sticky",n=this.$store.state,e=n.assets,i=n.windows,o=n.notes,s=n.user,r=i.find((function(n){return n.id===t}));return{id:t,user:s,notes:o.length?o:[Object(c["a"])({},m)],zIndex:r.index,minimized:r.minimized,getIcon:function(t){return Object(u["a"])(e.misc,"stickynotes-"+t)},timeout:null,unsubscribe:null}},watch:{notes:{deep:!0,handler:function(t,n){t.length!==n.length?this.save():(clearTimeout(this.timeout),this.timeout=setTimeout(this.save,600))}}},mounted:function(){var t=this;this.unsubscribe=this.$store.subscribe((function(n,e){if(n.type.includes("Window")){var i=e.windows.find((function(n){return n.id===t.id}));t.zIndex=i?i.index:99,t.minimized=!!i&&i.minimized}n.type===l["a"].Notes&&(t.notes=e.notes)}))},destroyed:function(){this.unsubscribe()},methods:{add:function(){var t=h[Object(u["l"])(0,h.length-1)];this.notes.push(Object(c["a"])(Object(c["a"])({},m),{},{color:t}))},close:function(t){var n=1===this.notes.length;this.notes.splice(t,1),n&&this.$root.$emit(d["f"].CloseWindow,this.id)},focus:function(t){if(t<this.notes.length-1){var n=this.notes.splice(t,1),e=Object(s["a"])(n,1),i=e[0];this.notes.push(i)}this.$store.commit(l["a"].WindowFocus,this.id),this.$refs.note[this.notes.length-1].focus()},save:function(){this.$store.dispatch(l["a"].Notes,this.notes)},onDragged:function(t,n,e){this.notes[t].x=n,this.notes[t].y=e},onResized:function(t,n,e,i,o){this.notes[t].x=n,this.notes[t].y=e,this.notes[t].w=i,this.notes[t].h=o}},components:{StickyNote:a.a}},p=b,g=(e("5bb3"),e("2877")),w=Object(g["a"])(p,i,o,!1,null,"44eccaf1",null);n["default"]=w.exports},"5bb3":function(t,n,e){"use strict";e("bf81")},bf81:function(t,n,e){}}]);