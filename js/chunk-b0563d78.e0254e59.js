(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0563d78"],{"036c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root-container"},[n("window",{attrs:{id:"window-snipping",className:t.showSave?"maximized":"",resizable:!1,h:"auto"}},[n("title-bar",{attrs:{icon:"snipping",title:"Snipping Tool"}},[n("controls",{attrs:{hasMaxi:!1}})],1),n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-item",style:{backgroundImage:"url("+t.icon.snipping+")"}},[t._v(" "+t._s(t.$t("new"))+" "),n("ul",{staticClass:"toolbar-item-lv2"},[n("li",{staticClass:"text-muted"},[t._v(t._s(t.$t("free-form"))+" "+t._s(t.$t("snip")))]),n("li",{attrs:{"data-type":"rect"},on:{click:t.snip}},[t._v(" "+t._s(t.$t("rectangular"))+" "+t._s(t.$t("snip"))+" ")]),n("li",{staticClass:"text-muted"},[t._v(t._s(t.$t("window"))+" "+t._s(t.$t("snip")))]),n("li",{attrs:{"data-type":"full"},on:{click:t.snip}},[t._v(" "+t._s(t.$t("full-screen"))+" "+t._s(t.$t("snip"))+" ")])])]),n("div",{staticClass:"toolbar-item",style:{backgroundImage:"url("+t.icon.cancel+")"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),t.showSave?n("a",{staticClass:"toolbar-item save",style:{backgroundImage:"url("+t.icon.save+")"},on:{click:t.save}}):t._e()]),n("div",{ref:"Result",class:["container",{"p-0":t.showSave,direction:!t.showSave}]},[t._v(" "+t._s(t.message)+" ")])],1),t.showDialog?n("dialog-file",{attrs:{dialogIcon:"snipping",dialogName:"save-as",content:t.content,fileName:t.fileName,fileTypes:{png:"Portable Network Graphic file (*.PNG)",jpg:"JPEG file (*.JPG)"}},on:{cancel:function(e){t.showDialog=!1}}}):t._e()],1)},s=[],i=n("5530"),o=(n("159b"),n("ac1f"),n("1276"),n("10dc")),c=n("3af2"),r=n("6210"),l=n("9e54"),u=n("c0e9"),h=n.n(u),d=n("6792"),f={allowTaint:!0,imageTimeout:0},p=function(t,e,n){return e.split(" ").forEach((function(e){return t.addEventListener(e,n)}))},m=function(t,e,n){return e.split(" ").forEach((function(e){return t.removeEventListener(e,n)}))},v={data:function(){var t=this.$store.state,e=t.theme,n=t.themes;return{showSave:!1,showDialog:!1,message:this.$t("select-snip"),fileName:"Capture",content:null,icon:{snipping:n[e].icon.snipping,cancel:n[e].icon.cancel,save:n[e].icon.save}}},methods:{snip:function(t){switch(t.target.dataset.type){case"rect":this.snipRect();break;default:this.snipFull()}},snipRect:function(){var t,e,n,a,s,o=this,c=this.$root.$el.querySelector("#windows"),r=document.createElement("canvas"),l=r.getContext("2d");function u(n){t="mousedown"===n.type?n.offsetX:n.touches[0].clientX,e="mousedown"===n.type?n.offsetY:n.touches[0].clientY,t-=n.target.offsetLeft,e-=n.target.offsetTop}function v(i){n="mousemove"===i.type?i.offsetX:i.touches[0].clientX,a="mousemove"===i.type?i.offsetY:i.touches[0].clientY,n-=i.target.offsetLeft,a-=i.target.offsetTop,s={x:n>t?t:n,y:a>e?e:a,width:Math.abs(n-t),height:Math.abs(a-e)},l.clearRect(0,0,r.width,r.height),l.fillRect(0,0,r.width,r.height),l.strokeRect(s.x,s.y,s.width,s.height),l.clearRect(s.x,s.y,s.width,s.height)}function g(){o.$root.$emit(d["f"].ChangeCursor,d["c"].Working),h()(this,Object(i["a"])(Object(i["a"])({},s),f)).then(o.show),r.remove(),m(this,"mousedown touchstart",u),m(this,"mousemove touchmove",v),m(this,"mouseup touchend",g)}r.width=c.clientWidth,r.height=c.clientHeight,r.style.zIndex=9999,r.style.position="absolute",r.style.cursor="crosshair",l.lineWidth=1,l.strokeStyle="red",l.fillStyle="rgba(255, 255, 255, 0.6)",l.fillRect(0,0,r.width,r.height),c.append(r),p(c,"mousedown touchstart",u),p(c,"mousemove touchmove",v),p(c,"mouseup touchend",g),this.$root.$emit(d["f"].ChangeCursor,d["c"].Precision)},snipFull:function(){var t=this.$root.$el.querySelector("#windows");this.$root.$emit(d["f"].ChangeCursor,d["c"].Working),h()(t,f).then(this.show)},show:function(t){var e=this.$refs.Result;this.showSave=!0,this.content=t,t.style.margin="auto",t.dataset.defaultCursor=!0,e.innerHTML="",e.append(t),this.$root.$emit(d["f"].ChangeCursor,d["c"].Default)},cancel:function(){var t=this.$refs.Result;this.showSave=!1,t.innerHTML=this.message},save:function(){this.showDialog=!0}},components:{Window:o["a"],Controls:c["a"],TitleBar:r["a"],DialogFile:l["a"]}},g=v,b=(n("e5d8"),n("2877")),w=Object(b["a"])(g,a,s,!1,null,"048c42fa",null);e["default"]=w.exports},"4ca0":function(t,e,n){},6594:function(t,e,n){"use strict";n("4ca0")},9371:function(t,e,n){},"9e54":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("computer",{attrs:{id:"window-dialog",dialogIcon:t.dialogIcon,dialogName:t.dialogName},on:{close:t.cancel,change:t.setPath},scopedSlots:t._u([{key:"footer",fn:function(){return[n("div",{staticClass:"form-control"},[n("label",[t._v(t._s(t.$t("file-name"))+":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveFile(e)},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"form-control"},[n("label",[t._v(t._s(t.$t("save-as"))+":")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?n:n[0]}}},t._l(t.fileTypes,(function(e,a){return n("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(t.fileTypes[a])+" ")])})),0)]),n("div",{staticClass:"buttons"},[t.isAndroid?t._e():n("button",{staticClass:"bt bt-secondary bt-download",attrs:{disabled:!t.name},on:{click:t.download}},[t._v(" "+t._s(t.$t("download"))+" ")]),n("button",{staticClass:"bt bt-primary",attrs:{disabled:!t.canSave},on:{click:t.saveFile}},[t._v(" "+t._s(t.$t("save"))+" ")]),n("button",{staticClass:"bt bt-secondary",on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]},proxy:!0}])})},s=[],i=n("1da1"),o=n("5530"),c=(n("96cf"),n("ac1f"),n("1276"),n("b64b"),n("a15b"),n("b0c0"),n("5319"),n("7db0"),n("d3b7"),n("2f62")),r=n("d0b6"),l=n("0e9a"),u=n("13a7"),h=n("f106"),d=n("01b4"),f=n("968c"),p={props:{dialogIcon:String,dialogName:String,fileName:String,fileTypes:Object,content:[String,Object,HTMLCanvasElement],parse:Function},data:function(){var t=this.fileName.split(".");return t.length>1&&t.pop(),{isAndroid:Object(r["a"])(),type:Object.keys(this.fileTypes)[0],name:t.join(""),path:null}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["user"])),{},{canSave:function(){return this.path&&this.name},fullName:function(){return this.name+"."+this.type},program:function(){return Object(l["h"])(this.fullName)?"player":Object(l["k"])(this.fullName)?"photo":"notepad"},icon:function(){return Object(l["h"])(this.fullName)?"media":Object(l["k"])(this.fullName)?"photo":Object(l["m"])(this.fullName)?"text":"file"},parsedContent:function(){var t=this.content,e=this.type;return this.parse?this.parse(e):("string"===typeof t||(t=t.toDataURL("image/".concat(e)),this.isAndroid&&(t=t.replace(/^data:image\/.*;base64,/,""))),t)}}),methods:{setPath:function(t){this.path=t},saveFile:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.canSave){e.next=2;break}return e.abrupt("return");case 2:if(n=t.path,a=t.fullName,s=t.parsedContent,i="c/User/Desktop",n!==i){e.next=13;break}return e.next=7,f["a"].local.get(d["a"].Shortcuts,t.user);case 7:if(o=e.sent,c=o.find((function(t){return t.lbl===a})),!c){e.next=12;break}return e.next=12,t.$store.dispatch(d["a"].ShortcutRemove,c.key);case 12:t.$store.dispatch(d["a"].ShortcutAdd,{lbl:a,key:t.program,icon:t.icon,path:i+"/"+a});case 13:h["a"].append(n,[h["a"].file(n,a,s)]).finally(t.cancel);case 14:case"end":return e.stop()}}),e)})))()},download:function(){var t=this.name,e=this.type,n=this.parsedContent;t&&Object(l["e"])(t+"."+e,e,n)},cancel:function(){this.$emit("cancel")}},components:{Computer:u["default"]}},m=p,v=(n("6594"),n("2877")),g=Object(v["a"])(m,a,s,!1,null,"15b8d010",null);e["a"]=g.exports},e5d8:function(t,e,n){"use strict";n("9371")}}]);