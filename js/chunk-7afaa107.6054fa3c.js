(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7afaa107"],{"07c5":function(t,e,a){},"4ca0":function(t,e,a){},"4cb7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"root-container"},[n("window",{attrs:{id:"window-notepad",lock:e.showFonts||e.showDialog}},[n("title-bar",{attrs:{icon:"notepad",title:e.fileName+" - Notepad"}},[n("controls")],1),n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-item"},[e._v(" "+e._s(e.$t("file"))+" "),n("ul",{staticClass:"toolbar-item-lv2"},[n("li",{on:{click:e.new_}},[e._v(e._s(e.$t("new")))]),n("li",{on:{click:e.open}},[e._v(e._s(e.$t("open")))]),n("li",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),n("hr"),n("li",{on:{click:function(t){return t.stopPropagation(),e.$root.$emit("close","notepad")}}},[e._v(" "+e._s(e.$t("exit"))+" ")])])]),n("div",{staticClass:"toolbar-item"},[e._v(" "+e._s(e.$t("edit"))+" "),n("ul",{staticClass:"toolbar-item-lv2"},[n("li",{on:{click:function(){return t.$refs.Editor.select()}}},[e._v(" "+e._s(e.$t("select-all"))+" ")]),n("li",{on:{click:e.insertTime}},[e._v(e._s(e.$t("time"))+"/"+e._s(e.$t("date")))])])]),n("div",{staticClass:"toolbar-item"},[e._v(" "+e._s(e.$t("format"))+" "),n("ul",{staticClass:"toolbar-item-lv2"},[n("li",{class:e.isWrapped?"active":"",on:{click:e.wrap}},[e._v(" "+e._s(e.$t("word-wrap"))+" ")]),n("li",{on:{click:function(t){e.showFonts=!0}}},[e._v(e._s(e.$t("font"))+"...")])])]),n("div",{staticClass:"toolbar-item"},[e._v(" "+e._s(e.$t("view"))+" "),n("ul",{staticClass:"toolbar-item-lv2"},[n("li",{staticClass:"text-muted",attrs:{id:"notepad-statbar"}},[e._v(" "+e._s(e.$t("status-bar"))+" ")])])])]),n("div",{staticClass:"container p-0"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"Editor",class:{wrap:e.isWrapped},domProps:{value:e.content},on:{input:[function(t){t.target.composing||(e.content=t.target.value)},e.showBsod]}})])],1),e.fontData?n("dialog-font",{directives:[{name:"show",rawName:"v-show",value:e.showFonts,expression:"showFonts"}],attrs:{data:e.fontData},on:{changeFont:e.changeFont,cancel:function(t){e.showFonts=!1}}}):e._e(),e.showDialog?n("dialog-file",{attrs:{fileTypes:{txt:"Text Documents (*.txt)"},fileName:e.fileName,content:e.content,dialogIcon:"notepad",dialogName:"save-as"},on:{cancel:function(t){e.showDialog=!1}}}):e._e()],1)},i=[],o=a("1da1"),s=a("5530"),l=(a("96cf"),a("ac1f"),a("5319"),a("1276"),a("b0c0"),a("99af"),a("3af2")),r=a("6210"),c=a("10dc"),d=a("9e54"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("window",{attrs:{resizable:!1,w:"auto",h:"auto"}},[a("title-bar",{attrs:{title:t.$t("font")}},[a("controls",{attrs:{hasMaxi:!1,hasMini:!1,close:t.cancel}})],1),a("div",{staticClass:"container"},[a("div",{staticClass:"font-row"},[a("div",{staticClass:"column-font"},[a("div",{staticClass:"text-75"},[t._v(t._s(t.$t("font"))+":")]),a("ul",{staticClass:"list"},[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-lucida",value:"'lucida console',monospace"},domProps:{checked:t._q(t.font,"'lucida console',monospace")},on:{change:function(e){t.font="'lucida console',monospace"}}}),a("label",{staticStyle:{"font-family":"'lucida console',monospace"},attrs:{for:"font-lucida"}},[t._v("Lucida Console")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-verdana",value:"verdana,monospace"},domProps:{checked:t._q(t.font,"verdana,monospace")},on:{change:function(e){t.font="verdana,monospace"}}}),a("label",{staticStyle:{"font-family":"verdana,monospace"},attrs:{for:"font-verdana"}},[t._v("Verdana")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-arial",value:"arial,sans-serif"},domProps:{checked:t._q(t.font,"arial,sans-serif")},on:{change:function(e){t.font="arial,sans-serif"}}}),a("label",{staticStyle:{"font-family":"arial,sans-serif"},attrs:{for:"font-arial"}},[t._v("Arial")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-impact",value:"impact,sans-serif"},domProps:{checked:t._q(t.font,"impact,sans-serif")},on:{change:function(e){t.font="impact,sans-serif"}}}),a("label",{staticStyle:{"font-family":"impact,sans-serif"},attrs:{for:"font-impact"}},[t._v("Impact")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-times",value:"times,serif"},domProps:{checked:t._q(t.font,"times,serif")},on:{change:function(e){t.font="times,serif"}}}),a("label",{staticStyle:{"font-family":"times,serif"},attrs:{for:"font-times"}},[t._v("Times New Roman")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.font,expression:"font"}],attrs:{type:"radio",id:"font-georgia",value:"georgia,serif"},domProps:{checked:t._q(t.font,"georgia,serif")},on:{change:function(e){t.font="georgia,serif"}}}),a("label",{staticStyle:{"font-family":"georgia,serif"},attrs:{for:"font-georgia"}},[t._v("Georgia")])])])]),a("div",{staticClass:"column-style"},[a("div",{staticClass:"text-75"},[t._v(t._s(t.$t("style"))+":")]),a("ul",{staticClass:"list"},[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.style,expression:"style"}],attrs:{type:"radio",id:"style-regular",value:"normal,normal"},domProps:{checked:t._q(t.style,"normal,normal")},on:{change:function(e){t.style="normal,normal"}}}),a("label",{attrs:{for:"style-regular"}},[t._v(t._s(t.$t("regular")))])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.style,expression:"style"}],attrs:{type:"radio",id:"style-italic",value:"italic,normal"},domProps:{checked:t._q(t.style,"italic,normal")},on:{change:function(e){t.style="italic,normal"}}}),a("label",{staticStyle:{"font-style":"italic"},attrs:{for:"style-italic"}},[t._v(t._s(t.$t("italic")))])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.style,expression:"style"}],attrs:{type:"radio",id:"style-bold",value:"normal,bold"},domProps:{checked:t._q(t.style,"normal,bold")},on:{change:function(e){t.style="normal,bold"}}}),a("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"style-bold"}},[t._v(t._s(t.$t("bold")))])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.style,expression:"style"}],attrs:{type:"radio",id:"style-bi",value:"italic,bold"},domProps:{checked:t._q(t.style,"italic,bold")},on:{change:function(e){t.style="italic,bold"}}}),a("label",{staticStyle:{"font-style":"italic","font-weight":"bold"},attrs:{for:"style-bi"}},[t._v(t._s(t.$t("bold-italic")))])])])]),a("div",{staticClass:"column-size"},[a("div",{staticClass:"text-75"},[t._v(t._s(t.$t("size"))+":")]),a("ul",{staticClass:"list"},[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-10",value:"10"},domProps:{checked:t._q(t.size,"10")},on:{change:function(e){t.size="10"}}}),a("label",{attrs:{for:"size-10"}},[t._v("10")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-11",value:"11"},domProps:{checked:t._q(t.size,"11")},on:{change:function(e){t.size="11"}}}),a("label",{attrs:{for:"size-11"}},[t._v("11")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-12",value:"12"},domProps:{checked:t._q(t.size,"12")},on:{change:function(e){t.size="12"}}}),a("label",{attrs:{for:"size-12"}},[t._v("12")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-14",value:"14"},domProps:{checked:t._q(t.size,"14")},on:{change:function(e){t.size="14"}}}),a("label",{attrs:{for:"size-14"}},[t._v("14")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-18",value:"18"},domProps:{checked:t._q(t.size,"18")},on:{change:function(e){t.size="18"}}}),a("label",{attrs:{for:"size-18"}},[t._v("18")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",id:"size-25",value:"25"},domProps:{checked:t._q(t.size,"25")},on:{change:function(e){t.size="25"}}}),a("label",{attrs:{for:"size-25"}},[t._v("25")])])])])]),a("div",{staticClass:"font-row flex-right mt-5"},[a("button",{staticClass:"bt bt-primary",on:{click:t.confirm}},[t._v(" "+t._s(t.$t("ok"))+" ")]),a("button",{staticClass:"bt bt-secondary",on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])])],1)},u=[],m={props:{data:Object},data:function(){var t=this.data,e=t.font,a=t.size,n=t.style;return{font:e,size:a,style:n}},methods:{confirm:function(){this.$emit("changeFont",this.$data)},cancel:function(){this.$emit("cancel")}},components:{Controls:l["a"],TitleBar:r["a"],Window:c["a"]}},p=m,v=(a("5273"),a("2877")),h=Object(v["a"])(p,f,u,!1,null,"3bd53670",null),b=h.exports,y=a("968c"),_=a("01b4"),g=a("f106"),w=a("2f62"),k=a("e302"),x=a("6792"),$={data:function(){var t={fileName:"Untitled",content:""};return{blank:t,fileName:t.fileName,content:t.content,isWrapped:!0,showFonts:!1,showDialog:!1,fontData:null}},computed:Object(s["a"])({},Object(w["b"])(["user","programData"])),created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].get("/configs/",t.user,"notepad");case 2:if(a=e.sent,a?(t.isWrapped=a.wrap,t.fontData=Object(s["a"])({},a)):(t.fontData={wrap:t.isWrapped,font:"'lucida console',monospace",size:10,style:"normal,normal"},t.sync(t.fontData)),!t.programData){e.next=11;break}return n=t.programData.replace("file://",""),t.fileName=n.split("/").pop(),e.next=9,g["a"].getFile(n);case 9:t.content=e.sent,t.$store.commit(_["a"].ProgramData,null);case 11:case"end":return e.stop()}}),e)})))()},methods:{new_:function(){this.fileName=this.blank.fileName,this.content=this.blank.content},open:function(){var t=this;Object(k["m"])().then((function(e){var a=e.files;if(a.length)if(a[0].size>102400)Object(k["r"])(t.$t("info-max-size")+": 100KB");else{var n=new FileReader;n.readAsText(a[0]),n.onload=function(e){t.content=e.target.result,t.fileName=a[0].name}}}))},save:function(){this.showDialog=!0},insertTime:function(){var t=new Date;document.execCommand("insertText",!1,"".concat(t.getHours(),":").concat(t.getMinutes()," ").concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()))},wrap:function(){this.isWrapped=!this.isWrapped,this.sync({wrap:this.isWrapped})},changeFont:function(t){this.showFonts=!1,this.fontData=Object(s["a"])({},t),this.sync(Object(s["a"])({},t))},sync:function(t){y["a"].update("/configs/",this.user,"notepad",t)},showBsod:function(t){/^bsod$/i.test(t.target.value)&&this.$root.$emit(x["f"].ChangeView,x["h"].Bsod,"DUMMY_BSOD")}},watch:{fontData:{deep:!0,handler:function(t){var e=this.$refs.Editor,a=t.font,n=t.style,i=t.size;e.style.fontFamily=a,e.style.fontStyle=n.split(",")[0],e.style.fontWeight=n.split(",")[1],e.style.fontSize=i+"pt"}}},components:{Controls:l["a"],TitleBar:r["a"],Window:c["a"],DialogFile:d["a"],DialogFont:b}},z=$,N=(a("6549"),Object(v["a"])(z,n,i,!1,null,"2ff58862",null));e["default"]=N.exports},5273:function(t,e,a){"use strict";a("07c5")},5401:function(t,e,a){},6549:function(t,e,a){"use strict";a("5401")},6594:function(t,e,a){"use strict";a("4ca0")},"9e54":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("computer",{attrs:{id:"window-dialog",dialogIcon:t.dialogIcon,dialogName:t.dialogName},on:{close:t.cancel,change:t.setPath},scopedSlots:t._u([{key:"footer",fn:function(){return[a("div",{staticClass:"form-control"},[a("label",[t._v(t._s(t.$t("file-name"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveFile(e)},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-control"},[a("label",[t._v(t._s(t.$t("save-as"))+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},t._l(t.fileTypes,(function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(" "+t._s(t.fileTypes[n])+" ")])})),0)]),a("div",{staticClass:"buttons"},[t.isAndroid?t._e():a("button",{staticClass:"bt bt-secondary bt-download",attrs:{disabled:!t.name},on:{click:t.download}},[t._v(" "+t._s(t.$t("download"))+" ")]),a("button",{staticClass:"bt bt-primary",attrs:{disabled:!t.canSave},on:{click:t.saveFile}},[t._v(" "+t._s(t.$t("save"))+" ")]),a("button",{staticClass:"bt bt-secondary",on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]},proxy:!0}])})},i=[],o=a("1da1"),s=a("5530"),l=(a("96cf"),a("ac1f"),a("1276"),a("b64b"),a("a15b"),a("b0c0"),a("5319"),a("7db0"),a("d3b7"),a("2f62")),r=a("d0b6"),c=a("0e9a"),d=a("13a7"),f=a("f106"),u=a("01b4"),m=a("968c"),p={props:{dialogIcon:String,dialogName:String,fileName:String,fileTypes:Object,content:[String,Object,HTMLCanvasElement],parse:Function},data:function(){var t=this.fileName.split(".");return t.length>1&&t.pop(),{isAndroid:Object(r["a"])(),type:Object.keys(this.fileTypes)[0],name:t.join(""),path:null}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["user"])),{},{canSave:function(){return this.path&&this.name},fullName:function(){return this.name+"."+this.type},program:function(){return Object(c["h"])(this.fullName)?"player":Object(c["k"])(this.fullName)?"photo":"notepad"},icon:function(){return Object(c["h"])(this.fullName)?"media":Object(c["k"])(this.fullName)?"photo":Object(c["m"])(this.fullName)?"text":"file"},parsedContent:function(){var t=this.content,e=this.type;return this.parse?this.parse(e):("string"===typeof t||(t=t.toDataURL("image/".concat(e)),this.isAndroid&&(t=t.replace(/^data:image\/.*;base64,/,""))),t)}}),methods:{setPath:function(t){this.path=t},saveFile:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.canSave){e.next=2;break}return e.abrupt("return");case 2:if(a=t.path,n=t.fullName,i=t.parsedContent,o="c/User/Desktop",a!==o){e.next=13;break}return e.next=7,m["a"].local.get(u["a"].Shortcuts,t.user);case 7:if(s=e.sent,l=s.find((function(t){return t.lbl===n})),!l){e.next=12;break}return e.next=12,t.$store.dispatch(u["a"].ShortcutRemove,l.key);case 12:t.$store.dispatch(u["a"].ShortcutAdd,{lbl:n,key:t.program,icon:t.icon,path:o+"/"+n});case 13:f["a"].append(a,[f["a"].file(a,n,i)]).finally(t.cancel);case 14:case"end":return e.stop()}}),e)})))()},download:function(){var t=this.name,e=this.type,a=this.parsedContent;t&&Object(c["e"])(t+"."+e,e,a)},cancel:function(){this.$emit("cancel")}},components:{Computer:d["default"]}},v=p,h=(a("6594"),a("2877")),b=Object(h["a"])(v,n,i,!1,null,"15b8d010",null);e["a"]=b.exports}}]);